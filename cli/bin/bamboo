#!/usr/bin/env bash

_product_name() {
    echo "bamboo"
}

_product_definition() {
    _with_arguments 1 $@
    version=${1}
    echo "-Dproduct=bamboo
          -Dproduct.version=${version}
          -Dhttp.port=${HTTP_PORT:-6990}
          -Dcontext.path=${CONTEXT_PATH:-"/bamboo"}
          -Dajp.port=${AJP_PORT:-6009}
          -Dserver=127.0.0.1
          -Dplugins=com.atlassian.bamboo.plugins:atlassian-bamboo-plugin-test-utils:${version}
          -Datlassian.darkfeature.bamboo.experimental.rest.admin.enabled=true"
}

_product_group_id() {
    echo "com.atlassian.bamboo"
}

_product_webapp_name() {
    echo "atlassian-bamboo-web-app"
}

source atlassian-product.sh

eval $@

if [[ -z $1 ]]; then
    $0 -h
fi
