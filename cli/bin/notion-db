#! /usr/bin/env node

const AxiosCli = require('../lib/axios-cli');
const dotenv = require('dotenv');
const path = require('path');

const config = dotenv.config({
    path: path.resolve(process.env.VIQUEEN_DEVBOX_HOME, '.env')
}).parsed;

const notionDbCli = new AxiosCli({
    name: 'Notion DB API',
    baseURL: `https://api.notion.com/v1/databases/${config.NOTION_DATABASE_ID}`,
    auth: {
        bearerToken: async () => config.NOTION_TOKEN
    },
    headers: {
        'Notion-Version': '2021-05-13'
    }
});

const program = notionDbCli.program();
program.version('1.0.0');
program.parse(process.argv);
